import{A as n}from"./animationConstants.C5dRCtVd.js";import{r as u,g as r,S as T}from"./gsapPlugins.CTnM-_Tl.js";import{p as d}from"./motionPreferences.BL4Q8pbc.js";u();const s="section-animation";function f(e){if(d())return;const t=document.querySelector(".page-wrapper");if(!t)return;const l=document.querySelectorAll(".section-wrapper");g(),l.length>0&&l.forEach((a,c)=>{const o=a.querySelector(".scroll-target-title"),i=a.querySelector(".scroll-target-content");o&&(r.set(o,{filter:"blur(8px)",opacity:0}),r.timeline({scrollTrigger:{id:`${s}-title-${c}`,trigger:o,scroller:t,start:"top 90%",end:"top 15%",scrub:n.GSAP.SECTION_TITLE_SCRUB}}).to(o,{filter:"blur(0px)",opacity:1,ease:"sine",duration:n.SECTION_TITLE_DURATION})),i&&(r.set(i,{opacity:0,y:30}),r.timeline({scrollTrigger:{id:`${s}-content-${c}`,trigger:i,scroller:t,start:"top 70%",end:"top 40%",scrub:n.GSAP.SECTION_CONTENT_SCRUB}}).to(i,{opacity:1,y:0,ease:"none",duration:n.SECTION_CONTENT_DURATION}))})}function g(){T.getAll().filter(e=>typeof e.vars.id=="string"&&e.vars.id.startsWith(s)).forEach(e=>e.kill())}function S(){g(),r.globalTimeline.getChildren().forEach(e=>{const t=e?.scrollTrigger?.vars?.id;typeof t=="string"&&t.startsWith(s)&&e.kill()})}const p=window;if(!p.__gsapHandlersRegistered){p.__gsapHandlersRegistered=!0;const e=()=>requestAnimationFrame(()=>f());document.addEventListener("astro:page-load",e),document.addEventListener("astro:before-swap",S)}
