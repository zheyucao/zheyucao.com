import{A as i}from"./animationConstants.C5dRCtVd.js";import{r as S,S as g,g as e}from"./gsapPlugins.CTnM-_Tl.js";import{p as T}from"./motionPreferences.BL4Q8pbc.js";S();const s="section-animation";function d(t){if(T())return;const n=document.querySelector(".page-wrapper");if(!n)return;const a=document.querySelectorAll(".section-wrapper");f(),a.length>0&&a.forEach((l,c)=>{const r=l.querySelector(".scroll-target-title"),o=l.querySelector(".scroll-target-content");r&&(e.set(r,{filter:"blur(8px)",opacity:0}),e.timeline({scrollTrigger:{id:`${s}-title-${c}`,trigger:r,scroller:n,start:"top 90%",end:"top 15%",scrub:i.GSAP.SECTION_TITLE_SCRUB}}).to(r,{filter:"blur(0px)",opacity:1,ease:"sine",duration:i.SECTION_TITLE_DURATION})),o&&(e.set(o,{opacity:0,y:30}),e.timeline({scrollTrigger:{id:`${s}-content-${c}`,trigger:o,scroller:n,start:"top 70%",end:"top 40%",scrub:i.GSAP.SECTION_CONTENT_SCRUB}}).to(o,{opacity:1,y:0,ease:"none",duration:i.SECTION_CONTENT_DURATION}))})}function f(){g.getAll().filter(t=>typeof t.vars.id=="string"&&t.vars.id.startsWith(s)).forEach(t=>t.kill())}function m(){g.getAll().forEach(t=>t.kill()),e.globalTimeline.clear()}const p="__gsapSectionAnimationEventsRegistered__",u=window;if(!u[p]){u[p]=!0;const t=()=>requestAnimationFrame(()=>d());document.addEventListener("astro:page-load",t),document.addEventListener("astro:before-swap",m)}
