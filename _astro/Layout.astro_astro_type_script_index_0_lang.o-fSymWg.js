import{A as i}from"./animationConstants.C5dRCtVd.js";import{r as u,S as g,g as t}from"./gsapPlugins.CTnM-_Tl.js";import{p as T}from"./motionPreferences.BL4Q8pbc.js";u();const s="section-animation";function d(e){if(T())return;const n=document.querySelector(".page-wrapper");if(!n)return;const l=document.querySelectorAll(".section-wrapper");S(),l.length>0&&l.forEach((a,c)=>{const r=a.querySelector(".scroll-target-title"),o=a.querySelector(".scroll-target-content");r&&(t.set(r,{filter:"blur(8px)",opacity:0}),t.timeline({scrollTrigger:{id:`${s}-title-${c}`,trigger:r,scroller:n,start:"top 90%",end:"top 15%",scrub:i.GSAP.SECTION_TITLE_SCRUB}}).to(r,{filter:"blur(0px)",opacity:1,ease:"sine",duration:i.SECTION_TITLE_DURATION})),o&&(t.set(o,{opacity:0,y:30}),t.timeline({scrollTrigger:{id:`${s}-content-${c}`,trigger:o,scroller:n,start:"top 70%",end:"top 40%",scrub:i.GSAP.SECTION_CONTENT_SCRUB}}).to(o,{opacity:1,y:0,ease:"none",duration:i.SECTION_CONTENT_DURATION}))})}function S(){g.getAll().filter(e=>typeof e.vars.id=="string"&&e.vars.id.startsWith(s)).forEach(e=>e.kill())}function f(){g.getAll().forEach(e=>e.kill()),t.globalTimeline.clear()}const p=window;if(!p.__gsapHandlersRegistered){p.__gsapHandlersRegistered=!0;const e=()=>requestAnimationFrame(()=>d());document.addEventListener("astro:page-load",e),document.addEventListener("astro:before-swap",f)}
