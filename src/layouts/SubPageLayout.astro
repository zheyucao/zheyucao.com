---
import Layout from "./Layout.astro";
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<Layout title={title} showIndicatorOverride={false}>
  <main class="subpage-main py-8 px-[10%] pb-16 min-h-[60vh] mt-8">
    <div class="subpage-header mb-12 pb-4">
      <div class="page-actions flex items-center gap-4 mb-6">
        <div
          class="back-link-wrapper no-margin page-load-initial-state flex items-center justify-center h-[2.4rem] w-[2.4rem] min-w-[2.4rem] shrink-0 rounded-lg"
        >
          <a href="/" class="back-link flex items-center justify-center w-full h-full">
            <Icon name="ri:arrow-left-line" class="back-link-icon" size={16} />
          </a>
        </div>
        <slot name="actions" />
      </div>
      <h1
        class="subpage-title page-load-initial-state text-[clamp(2rem,2rem+2vw,4rem)] font-semibold m-0 leading-[1.2]"
      >
        {title}
      </h1>
    </div>
    <div class="subpage-content page-load-initial-state text-[1.2rem] leading-[1.6]">
      <slot />
    </div>
  </main>
</Layout>

<style>
  /* Visual styling - borders, colors, animations */
  .back-link-wrapper {
    border: 1px solid var(--button-border-color);
    transition:
      border-color 0.2s ease,
      background-color 0.2s ease;
  }

  .back-link-wrapper:hover {
    border-color: var(--button-border-hover-color);
    background-color: var(--button-hover-bg);
  }

  .back-link {
    text-decoration: none;
    font-family: var(--font-family-sans);
  }

  .back-link-icon {
    font-size: 0.9rem;
  }

  .subpage-title {
    color: var(--text-color);
  }

  /* Animations */
  @keyframes fadeIn {
    to {
      opacity: 1;
      filter: none;
      transform: translateY(0) translateZ(0);
      will-change: auto;
    }
  }

  .back-link-wrapper.page-load-initial-state {
    animation: fadeIn 0.8s ease-out 0s forwards;
  }

  .page-actions :global(.page-load-initial-state) {
    animation: fadeIn 0.8s ease-out 0s forwards;
  }

  .subpage-title.page-load-initial-state {
    animation: pageLoadAnimate 0.8s ease-out 0.1s forwards;
  }
  .subpage-content.page-load-initial-state {
    animation: pageLoadAnimate 0.8s ease-out 0.2s forwards;
  }

  @media (prefers-reduced-motion: reduce) {
    .back-link-wrapper.page-load-initial-state,
    .subpage-title.page-load-initial-state,
    .subpage-content.page-load-initial-state {
      animation: none;
      opacity: 1;
      filter: none;
      transform: none;
    }
  }
</style>
