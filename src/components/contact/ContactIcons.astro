---
import { Icon } from "astro-icon/components";
import type { ContactItem as ContactIconItem } from "../../lib/types/contact";

interface Props {
  items?: ContactIconItem[];
}

const { items = [] } = Astro.props;
---

<div class="flex items-center gap-[1.8rem]">
  {
    items.map((item) => {
      const primaryLabel = item.label || item.content || item.href || "";

      return item.href ? (
        <a
          href={item.href}
          target={item.target}
          rel={item.rel}
          aria-label={primaryLabel}
          class="contact-icon inline-flex items-center bg-none border-none p-0"
        >
          <Icon name={item.icon} size={22} aria-hidden="true" />
        </a>
      ) : (
        <span class="contact-icon inline-flex items-center bg-none border-none p-0" role="img" aria-label={primaryLabel}>
          <Icon name={item.icon} size={22} aria-hidden="true" />
        </span>
      );
    })
  }
</div>

<style>
  /* Icon color and hover states - kept in CSS */
  .contact-icon {
    color: var(--theme-icon-color);
    opacity: 0.8;
    transition:
      opacity 0.2s ease,
      color 0.2s ease;
  }

  .contact-icon:hover,
  .contact-icon:focus {
    opacity: 1;
    color: var(--theme-accent);
    outline: none;
  }
</style>
