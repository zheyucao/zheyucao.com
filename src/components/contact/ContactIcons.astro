---
import { Icon } from "astro-icon/components";

interface ContactIconItem {
  icon: string;
  label?: string; // display label
  content?: string; // underlying value (e.g., number/handle) for copy/display
  href?: string;
  target?: string;
  rel?: string;
  description?: string;
}

interface Props {
  items?: ContactIconItem[];
}

const { items = [] } = Astro.props;
---

<div class="contact-icons">
  {
    items.map((item) => {
      const primaryLabel = item.label || item.content || item.href || "";

      return item.href ? (
        <a href={item.href} target={item.target} rel={item.rel} aria-label={primaryLabel}>
          <Icon name={item.icon} size={22} aria-hidden="true" />
        </a>
      ) : (
        <span class="icon-placeholder" role="img" aria-label={primaryLabel}>
          <Icon name={item.icon} size={22} aria-hidden="true" />
        </span>
      );
    })
  }
</div>

<style>
  .contact-icons {
    display: flex;
    align-items: center;
    gap: 1.8rem;
  }

  .contact-icons a,
  .contact-icons .icon-placeholder {
    color: var(--theme-icon-color);
    opacity: 0.8;
    transition:
      opacity 0.2s ease,
      color 0.2s ease;
    display: inline-flex;
    align-items: center;
    background: none;
    border: none;
    padding: 0;
  }

  .contact-icons a:hover,
  .contact-icons a:focus,
  .contact-icons .icon-placeholder:hover,
  .contact-icons .icon-placeholder:focus {
    opacity: 1;
    color: var(--theme-accent);
    outline: none;
  }

  .contact-icons .icon-placeholder {
    cursor: pointer;
  }
</style>
