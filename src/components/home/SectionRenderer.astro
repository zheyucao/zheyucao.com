---
import Hero from "./Hero.astro";
import TextContentSection from "./content/TextContentSection.astro";
import ShowcaseCardsContent from "./content/ShowcaseCardsContent.astro";
import ShowcaseListContent from "./content/ShowcaseListContent.astro";
import SectionWrapper from "./SectionWrapper.astro";
import type { HomepageSection } from "../../viewmodels/homepageSectionsViewModel";

interface Props {
  section: HomepageSection;
}

const { section } = Astro.props;
---

{
  section.type === "hero" ? (
    <Hero data={section} />
  ) : section.type === "text" ? (
    <SectionWrapper>
      <TextContentSection
        title={section.title || ""}
        cta={section.cta}
        Content={section.Content}
      />
    </SectionWrapper>
  ) : section.type === "contact" ? (
    <SectionWrapper>
      <TextContentSection
        title={section.title || ""}
        cta={section.cta}
        Content={section.Content}
        socialItems={section.contactIcons}
      />
    </SectionWrapper>
  ) : section.type === "showcase" ? (
    <SectionWrapper>
      {section.componentType === "cards" ? (
        <ShowcaseCardsContent
          title={section.title || ""}
          cta={section.cta}
          projects={section.items}
        />
      ) : (
        <ShowcaseListContent
          title={section.title || ""}
          cta={section.cta}
          fallback={section.fallback || "No items available."}
          events={section.items}
        />
      )}
    </SectionWrapper>
  ) : null
}
