---
import Hero from "./Hero.astro";
import TextContentSection from "./content/TextContentSection.astro";
import FeaturedWorksContent from "./content/FeaturedWorksContent.astro";
import HighlightsUpdatesContent from "./content/HighlightsUpdatesContent.astro";
import SectionWrapper from "./SectionWrapper.astro";
import type { HomepageSection } from "../../viewmodels/homepageSectionsViewModel";

interface Props {
  section: HomepageSection;
}

const { section } = Astro.props;
---

{
  section.type === "hero" ? (
    <Hero data={section} />
  ) : section.type === "text-content" ? (
    <SectionWrapper>
      <TextContentSection
        data={{
          title: section.title || "",
          cta: section.cta,
          Content: section.Content,
          socialItems: section.contactIcons,
        }}
      />
    </SectionWrapper>
  ) : section.type === "showcase" ? (
    <SectionWrapper>
      {section.componentType === "cards" ? (
        <FeaturedWorksContent
          data={{
            section: {
              title: section.title || "",
              cta: section.cta,
            },
            projects: section.items,
          }}
        />
      ) : (
        <HighlightsUpdatesContent
          data={{
            section: {
              title: section.title || "",
              cta: section.cta,
              fallback: section.fallback || "No items available.",
            },
            events: section.items,
          }}
        />
      )}
    </SectionWrapper>
  ) : null
}
