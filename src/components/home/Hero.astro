---
import { sanitizeStrict } from "../../lib/utils/sanitize";

interface Props {
  data: {
    greeting: string;
    name: string;
    description: string;
  };
}

const { data } = Astro.props;
const { greeting, name, description } = data;

const safeGreeting = sanitizeStrict(greeting);
const safeName = sanitizeStrict(name);
const safeDescription = sanitizeStrict(description);
---

<section class="min-h-screen flex justify-start items-center pl-[10%] box-border">
  <div class="max-w-[80%] -translate-y-[5vh]">
    <div
      class="hero-greeting font-serif text-[clamp(1.5rem,1.5rem+2vw,4rem)] text-text-muted mb-[10px] leading-none ml-[10px]"
      set:html={safeGreeting}
    />
    <div
      class="hero-name font-serif text-text text-[clamp(3rem,4rem+4vw,8rem)] font-normal leading-none m-0"
      set:html={safeName}
    />
    <div
      class="hero-description font-serif text-text text-[clamp(1.5rem,1rem+1vw,2rem)] font-normal leading-[1.4] mt-[2em] ml-[10px] max-w-[90%]"
      set:html={safeDescription}
    />
  </div>
</section>

<style>
  /* Keyframe animation - kept in CSS */
  @keyframes unblurFadeIn {
    0% {
      filter: blur(32px);
      opacity: 0;
    }
    10% {
      filter: blur(28px);
      opacity: 0.1;
    }
    50% {
      filter: blur(4px);
      opacity: 0.9;
    }
    100% {
      filter: blur(0px);
      opacity: 0.9;
    }
  }

  .hero-greeting {
    opacity: 0;
    animation: unblurFadeIn 2s ease-out forwards;
  }

  .hero-name {
    opacity: 0;
    animation: unblurFadeIn 2s ease-out 0.5s forwards;
  }

  .hero-description {
    opacity: 0;
    animation: unblurFadeIn 2s ease-out 0.8s forwards;
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-greeting,
    .hero-name,
    .hero-description {
      animation: none;
      opacity: 1;
      filter: none;
      transform: none;
    }
  }
</style>
