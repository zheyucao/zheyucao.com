---
// src/components/home/FeaturedProjectCard.astro
import RichText from "../common/RichText.astro";

interface Props {
  title: string;
  homepageSummary?: string;
  slug: string;
  isDoubleColumn?: boolean;
}

const {
  title,
  homepageSummary = "Click to learn more...",
  slug,
  isDoubleColumn = false,
} = Astro.props;

const projectUrl = `/projects?scrollTo=${encodeURIComponent(slug)}`;
---

<a
  href={projectUrl}
  class:list={[
    "featured-project-card flex items-stretch w-full min-h-16",
    { "lg:w-[clamp(20vw,25vw,30vw)]": isDoubleColumn },
  ]}
>
  <div class="card-content-wrapper flex-1 relative min-w-0 p-4 pl-5">
    <h4 class="card-title">{title}</h4>
    <RichText tag="p" class="summary" inline content={homepageSummary} />
  </div>
</a>

<style>
  /* Visual styling - borders, colors, shadows, transitions */
  .featured-project-card {
    text-decoration: none;
    background-color: var(--theme-card-bg);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid var(--card-border-color);
    box-shadow: var(--theme-shadow-sm);
    transition:
      transform 0.25s ease-out,
      box-shadow 0.25s ease-out,
      border-color 0.2s ease;
    will-change: auto;
  }

  .featured-project-card:hover,
  .featured-project-card:focus-visible {
    box-shadow: var(--theme-shadow-lg);
    border-color: var(--card-border-hover-color);
    outline: none;
  }

  .card-content-wrapper {
    color: var(--theme-text);
  }

  .card-title {
    font-size: 1.25rem;
    font-weight: normal;
    margin: 0 0 0.4rem;
    line-height: 1.3;
    color: var(--theme-heading-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding-right: 2rem;
  }

  .card-content-wrapper :global(.summary) {
    font-size: 1rem;
    color: var(--theme-text-lighter);
    margin: 0;
    line-height: 1.5;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }
</style>
